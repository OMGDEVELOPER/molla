window.slate=window.slate||{},slate.Variants=function(){function t(t){this.$container=t.$container,this.product=t.product,this.singleOptionSelector=t.singleOptionSelector,this.originalSelectorId=t.originalSelectorId,this.enableHistoryState=t.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),this.template=this.originalSelectorId.replace("#ProductSelect-",""),$(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return t.prototype=_.assignIn({},t.prototype,{_getCurrentOptions:function(){var t=_.map($(this.singleOptionSelector,this.$container),function(t){var e=$(t),a=e.attr("type"),i={};return"radio"===a||"checkbox"===a?!!e[0].checked&&(i.value=e.val(),i.index=e.data("index"),i):(i.value=e.val(),i.index=e.data("index"),i)});return t=_.compact(t)},_getVariantFromOptions:function(){var t=this._getCurrentOptions(),e=this.product.variants;return _.find(e,function(e){return t.every(function(t){return _.isEqual(e[t.index],t.value)})})},_onSelectChange:function(){var t=this._getVariantFromOptions();this.$container.trigger({type:"variantChange",variant:t}),t&&(this.$container.trigger({type:"updateVariant",variant:t}),this._updateMasterSelect(t),this._updateImages(t),this._updatePrice(t),this._updateSKU(t),this.currentVariant=t,this.enableHistoryState&&this._updateHistoryState(t))},_updateImages:function(t){if(0!=$(".color_sw.selected .swatch").length)var e=$(".color_sw.selected .swatch").css("background-image").replace("_small_crop_center","").replace(/(url\(|\)|'|")/gi,"");var a=t.featured_media||{},i=$(".p-sgl__photos-"+this.template+" .swiper-slide-active").attr("data-src")||{};!t.featured_media&&void 0==e||a.src===i&&void 0==e||this.$container.trigger({type:"variantImageChange",variant:t})},_updatePrice:function(t){t.price===this.currentVariant.price&&t.compare_at_price===this.currentVariant.compare_at_price||this.$container.trigger({type:"variantPriceChange",variant:t})},_updateSKU:function(t){t.sku!==this.currentVariant.sku&&this.$container.trigger({type:"variantSKUChange",variant:t})},_updateHistoryState:function(t){if(history.replaceState&&t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+t.id;window.history.replaceState({path:e},"",e)}},_updateMasterSelect:function(t){$(this.originalSelectorId,this.$container).val(t.id)}}),t}(),theme.Product=function(){function t(t){var e=this.$container=$(t),a=e.attr("data-section-id");e.attr("data-product-id");if(theme.ktCountdown(t),this.settings={enableHistoryState:e.data("enable-history-state")||!1,imageSize:"720x720",sectionId:a,zoomEnabled:e.data("use-zoom"),thumbEnabled:e.data("use-thumb"),imagesLayout:e.data("images-layout"),ajaxCart:e.data("enable-ajax-cart")||!1},this.selectors={template:"#ProductSection-"+a,addToCart:"#AddToCart-"+a,addToCartText:"#AddToCartText-"+a,comparePrice:"#ComparePrice-"+a,originalPrice:"#ProductPrice-"+a,variesPrice:"#ProductVaries-"+a,unitPrice:"#UnitPrice-"+a,SKU:".variant-sku",originalSelectorId:"#ProductSelect-"+a,productPhotosWrapper:".photos-wrapper-"+a,productPhotos:".p-sgl__photos-"+a,productPhotoImages:".p-sgl__photo--"+a,productThumbsWrapper:".thumbs-wrapper-"+a,productThumbs:".p-sgl__thumbs-"+a,productThumbImages:".p-sgl__thumb--"+a,singleOptionSelector:".sgl-opt-selector-"+a,dataSettings:".datasettings--"+a,dataJs:".datajs--"+a,cartForm:"#cart-form--"+a,progressBar:".progress_bar-"+a,realTime:".realTime-"+a,dateFromTo:".prd_delivery-"+a,shipBL:".shipBL-"+a,storeAvailabilityContainer:"[data-store-avai-container]"},$("#ProductJson-"+a).html()){this.productSingleObject=JSON.parse(document.getElementById("ProductJson-"+a).innerHTML),this.previewImage=_.map(this.productSingleObject.media,"preview_image"),this.modelsObject=JSON.parse(document.getElementById("ModelJson-"+a).innerHTML),this.dataSettings=$(this.selectors.dataSettings).data(),this.dataSettings.progressBar=$(this.selectors.progressBar).length,this.dataSettings.realTime=$(this.selectors.realTime).length,this.dataSettings.dateFromTo=$(this.selectors.dateFromTo).length,this.dataJs=$(this.selectors.dataJs).data(),this.currentMedia="",this.storeAvailabilityContainer=e.find(this.selectors.storeAvailabilityContainer)[0],this.storeAvailabilityContainer&&this._initStoreAvailability();var i=this;"quickview-template"==a?setTimeout(function(){i._initBreakpoints()},400):"masonry"===this.settings.imagesLayout&&theme.window_W>=992?($(i.selectors.productThumbImages).length>=1&&$(i.selectors.productThumbsWrapper+":not(.first)").addClass("has-its"),$(i.selectors.productPhotoImages).length>=1&&$(i.selectors.productPhotosWrapper+":not(.first)").addClass("has-its"),this._initIsotope(),i._initPhotoSwipeFromDOM(),i._initPhotoZoom(!1),$(i.selectors.template+" iframe#resize-info-product").length>0&&(this._initStickySummary(),i._onReSizeInfo())):this._initBreakpoints(),this._stringOverrides(),this._initVariants(),this._initImageSwitch(),this._initSwatch(),this.dataJs.imgspos360.length>0&&this._create360(),this.dataSettings.useMaxheight&&($(i.selectors.template+" iframe#resize-image-product").length>0||$(i.selectors.template+" iframe#resize-image-product-qv").length>0)&&this._onReSizeImages(),this.dataSettings.stickyatc&&this._stickyAddCart(),this._AjaxForm(),this.dataSettings.progressBar&&this._stockCountdown().init(this.selectors.progressBar),this.dataSettings.realTime&&this._realTimeVisitor(this.selectors.realTime),this.dataSettings.dateFromTo&&this._dateFromTo(this.selectors.dateFromTo),$(i.selectors.template+" .table-products").length>0&&this._responTableGroup(),this.variants.currentVariant.featured_media&&this.variants.currentVariant.featured_media.preview_image&&(this.currentMedia=this.variants.currentVariant.featured_media.preview_image)}}return t.prototype=_.assignIn({},t.prototype,{_stringOverrides:function(){theme.productStrings=theme.productStrings||{},$.extend(theme.strings,theme.productStrings)},_initStoreAvailability:function(){this.storeAvailability=new theme.StoreAvailability(this.storeAvailabilityContainer)},_initBreakpoints:function(){var t=this,e=theme.window_W;KT.loadScript("swiper",function(a,i){"ok"==i&&($(t.selectors.productThumbImages).length>=1&&t._initThumbnailSlider(),$(t.selectors.productPhotoImages).length>=1&&t._initPhotoSlider(),$(window).on("resize",function(){(e>=576&&theme.window_W<576||e<576&&theme.window_W>=576)&&(t.dataSettings.useThumbVertical&&("object"==typeof t.thumbSlider?t.thumbSlider.changeDirection():$(t.selectors.productThumbImages).length>=1&&t._initThumbnailSlider()),e=theme.window_W)}))})},_initIsotope:function(){var t=this;KT.loadScript("isotope",function(e,a){if("ok"==a){var i=$(t.selectors.productPhotos).isotope({initLayout:!1,itemSelector:".p-sgl__photos-item",percentPosition:!0,masonry:{columnWidth:".grid-sizer"}});i.one("arrangeComplete",function(){t._mediaSlider(!1)}),i.isotope()}})},_initSwatch:function(){var t=this;$(t.$container).on("click",".--js-opt",function(e){e.preventDefault();var a=$(this);goto=!0,optionIndex=a.parents(".--js-selector").data("js-opt"),optionValue=a.data("value");var i=t.selectors.template+' .--js-selector[data-js-opt="'+optionIndex+'"]',s=$(i);$(i+" .--js-opt").removeClass("selected"),$(i+' .--js-opt[data-value="'+optionValue+'"]').addClass("selected"),s.find(".fake_select.variant_image").length&&(s.find(".fake_select.variant_image li").removeClass("selected"),s.find('.fake_select.variant_image li[data-value="'+optionValue+'"]').addClass("selected")),$(".fake_select.show").removeClass("show"),s.removeClass("op_pre_select error"),$(t.selectors.cartForm+" #SglOptSelector-"+optionIndex).val(optionValue).trigger("change"),$(".kt-stickyAddCart .swatch-on-grid._"+_snakeCase(optionValue)+" .swatch").trigger("click")})},_initVariants:function(){var t=this,e={$container:this.$container,enableHistoryState:this.$container.data("enable-history-state")||!1,singleOptionSelector:this.selectors.singleOptionSelector,originalSelectorId:this.selectors.originalSelectorId,product:this.productSingleObject};if(_.filter(theme.function.productOptionStyle,{op_pre_select:!0}).length&&(e.enableHistoryState=!1),this.variants=new slate.Variants(e),this.storeAvailability&&this.variants.currentVariant.available&&this.storeAvailability.updateContent(this.variants.currentVariant.id),this.$container.on("variantChange",this._updateAddToCart.bind(this)),this.$container.on("variantImageChange",this._updateImages.bind(this)),this.$container.on("variantPriceChange",this._updatePrice.bind(this)),this.$container.on("variantSKUChange",this._updateSKU.bind(this)),!this.dataJs.dfVariant){this.dataJs.dfVariant=!0;var a=this.variants.currentVariant.option1,i=0,s="SglOptSelector-0--"+t.settings.sectionId;t.settings.sectionId,t.settings.sectionId;_.forEach(t.productSingleObject.variants,function(e){$.each($("#"+s+" option"),function(s,o){e.option1!==a&&(i=0,a=e.option1),0==i&&$(this).val()==e.option1&&($(this).attr({"data-first-variant":$(t.selectors.originalSelectorId+' option[value="'+e.id+'"]').data("value")}),e.featured_image&&$(this).attr("data-featured-image",e.featured_image.src),i++)})}),$.each($(".sgl-opt-selector-"+t.settings.sectionId),function(e,a){var i=$(this),s=$('.--js-selector[data-js-opt="'+i.data("js-selector")+'"]').first(),o=_.find(theme.function.productOptionStyle,{name:s.data("n-opt")});void 0!==o&&("combobox with_out_variant_image"===o.style||o.color_watched&&"color"!==t.dataSettings.swatchStyle)&&$.each(s.find(".--js-opt"),function(e,a){var r=$(this);if(void 0!==(l=i.find('option[value="'+r.attr("data-value")+'"]').attr("data-featured-image")))if("combobox with_out_variant_image"===o.style){var n=_.last(l.split(".")),l=l.replace("."+n,"_150x150_crop_center."+n);$('[data-n-opt="'+s.data("n-opt")+'"] .--js-opt[data-value="'+r.attr("data-value")+'"]').find("img").attr("data-src",l).addClass("lazyload")}else if(o.color_watched&&"color"!==t.dataSettings.swatchStyle){var n=_.last(l.split(".")),l=l.replace("."+n,"_100x100."+n);$('[data-n-opt="'+s.data("n-opt")+'"] .--js-opt[data-value="'+r.attr("data-value")+'"]').find(".swatch").css({"background-image":'url("'+l+'")',"background-color":"transparent"})}})}),this._initVariant(this.variants.currentVariant),this.$container.on("updateVariant",this._updateVariant.bind(this))}},_AjaxForm:function(){var t=this,e=$(t.selectors.cartForm),a=new Array;$(document).on("change",".group-product .product-form__variants",function(){var t=$(this).parents(".itemGroupProducts"),e=$(this).find("option:selected"),a=parseInt(e.attr("data-price")),i=parseInt(e.attr("data-c-price"));t.find('[name="qty_group"]').attr({"data-id":$(this).val(),"data-price":a,"data-c-price":i}),t.find(".price ins").html(theme.Currency.formatMoney(a,theme.moneyFormat)),a!==i?t.find(".price del").html(theme.Currency.formatMoney(i,theme.moneyFormat)).removeClass("d-none"):t.find(".price del").addClass("d-none")}),e.on("change",function(i){i.preventDefault();var s=e.find('[name="qty_group"]').length,o=t.variants.currentVariant.price,r=t.variants.currentVariant.compare_at_price||0;t.$container.hasClass("product-mix-a-match")&&(o=0,r=0),s!==(a=_.filter($(this).serializeArray(),{name:"qty_group",value:"0"})).length?($.each(e.find('[name="qty_group"]'),function(t,e){var a=$(this).val(),i=parseInt($(this).attr("data-price")),s=parseInt($(this).attr("data-c-price"));o+=i*a,r+=s*a}),$(".subtt_gr--"+t.settings.sectionId+" .subtt_gr-money").html(theme.Currency.formatMoney(o,theme.moneyFormat)),o!==r?$(".subtt_gr--"+t.settings.sectionId+" .subtt_gr-c-money").html(theme.Currency.formatMoney(r,theme.moneyFormat)).removeClass("d-none"):$(".subtt_gr--"+t.settings.sectionId+" .subtt_gr-c-money").addClass("d-none"),e.addClass("may-add"),$(".subtt_gr--"+t.settings.sectionId).show()):(e.removeClass("may-add"),$(".subtt_gr--"+t.settings.sectionId).hide())}),this.settings.ajaxCart?$(document).on("submit",t.selectors.cartForm,function(a){if(a.preventDefault(),$(t.selectors.addToCart).removeClass("loaded").addClass("loading"),$(t.selectors.template).find(".op_pre_select").length>0)return $(t.selectors.template).find(".op_pre_select").addClass("error flash"),setTimeout(function(){$(t.selectors.template).find(".op_pre_select").removeClass("flash")},1e3),$(".btn.loading").removeClass("loading"),!1;if(e.find(".itemGroupProducts").length>0){var i=[];e.find('[name="quantity"]').length>0&&i.push({id:parseInt(e.find('[name="id"]').val()),quantity:parseInt(e.find('[name="quantity"]').val())}),$(t.selectors.cartForm+' .itemGroupProducts [name="qty_group"]').each(function(){i.push({id:parseInt($(this).attr("data-id")),quantity:parseInt($(this).val(),10)||0})}),Shopify.KT_addItems(i)}else Shopify.KT_addItemFromForm("cart-form--"+t.settings.sectionId)}):0==this.settings.ajaxCart&&$(document).on("submit",t.selectors.cartForm,function(a){if($(t.selectors.addToCart).removeClass("loaded").addClass("loading"),$(t.selectors.template).find(".op_pre_select").length>0)return a.preventDefault(),$(t.selectors.template).find(".op_pre_select").addClass("error flash"),setTimeout(function(){$(t.selectors.template).find(".op_pre_select").removeClass("flash")},1e3),$(".btn.loading").removeClass("loading"),!1;if(e.find(".itemGroupProducts").length>0){a.preventDefault();var i=[];e.find('[name="quantity"]').length>0&&i.push({id:parseInt(e.find('[name="id"]').val()),quantity:parseInt(e.find('[name="quantity"]').val())}),$(t.selectors.cartForm+' .itemGroupProducts [name="qty_group"]').each(function(){i.push({id:parseInt($(this).attr("data-id")),quantity:parseInt($(this).val(),10)||0})});var s={type:"POST",url:Shopify.root_url+"/cart/add.js",data:{items:i},dataType:"json",success:function(t){window.location.href=Shopify.root_url+"/cart"},error:function(t){alert("error")}};$.ajax(s)}})},_initVariant:function(t){var e=this,a=new Array,i=new Array,s=(t.option1,e.settings.sectionId,"SglOptSelector-1--"+e.settings.sectionId),o="SglOptSelector-2--"+e.settings.sectionId;$.each($(".sgl-opt-selector-"+e.settings.sectionId+" option"),function(t,e){$(this).text($(this).val())}),$("._soulout").removeClass("_soulout"),$("._unavailable").removeClass("_unavailable"),$(".kt_flash_lable").text(""),_.forEach(e.productSingleObject.variants,function(r){r.option1===t.option1&&(a.push(r.option2),r.option2===t.option2&&i.push(r.option3)),0==r.available&&(r.option1==t.option1&&r.option2==t.option2?$.each($("#"+o+" option"),function(t,a){r.option3==$(this).attr("value")&&$('[data-js-opt="2--'+e.settings.sectionId+'"] [data-value="'+r.option3+'"]').addClass("_soulout")}):r.option1==t.option1&&r.option3==t.option3&&$.each($("#"+s+" option"),function(t,a){r.option2==$(this).attr("value")&&$('[data-js-opt="1--'+e.settings.sectionId+'"] [data-value="'+r.option2+'"]').addClass("_soulout")}))}),a=$.unique(a),i=$.unique(i),$.each($("#"+s+" option"),function(i,s){if(-1==_.indexOf(a,$(this).attr("value")))$('[data-js-opt="1--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"]').addClass("_unavailable").find(".kt_flash_lable").text(" - Unavailable");else if("color"!==e.dataSettings.swatchStyle){var o=_.filter(e.productSingleObject.variants,{option1:t.option1,option2:$(this).attr("value"),option3:t.option3});if(void 0!==(n=null!==o[0].featured_image?o[0].featured_image.src:void 0)){var r=_.last(n.split(".")),n=n.replace("."+r,"_100x100_crop_center."+r);$('[data-js-opt="1--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"] .swatch').css("background-image",'url("'+n+'")')}}}),$.each($("#"+o+" option"),function(a,s){if(-1==_.indexOf(i,$(this).attr("value")))$('[data-js-opt="2--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"]').addClass("_unavailable").find(".kt_flash_lable").text(" - Unavailable");else if("color"!==e.dataSettings.swatchStyle){var o=_.filter(e.productSingleObject.variants,{id:t.id});if(void 0!==(n=null!==o[0].featured_image?o[0].featured_image.src:void 0)){var r=_.last(n.split(".")),n=n.replace("."+r,"_100x100_crop_center."+r);$('[data-js-opt="2--'+e.settings.sectionId+'"] [data-value="'+$(this).val()+'"] .swatch').css("background-image",'url("'+n+'")')}}})},_initImageSwitch:function(){if($(this.selectors.productThumbImages).length){var t=this;$(t.$container).on("click",this.selectors.productThumbImages,function(e){e.preventDefault();var a=$(this),i=t.selectors.template;if(void 0!==a.attr("data-id")&&""!==a.attr("data-id")){var s=_.filter(t.productSingleObject.variants,function(t){if(t.featured_image&&t.featured_image.variant_ids.includes(parseInt(a.attr("data-id"))))return t});if(s.length>1)$(i+' .--js-opt[data-value="'+s[0].option1+'"]').first().trigger("click");else{goto=!1,$(i+" .fake_select li").removeClass("selected"),$(s[0].options).each(function(e,a){var s=$(i+' option[value="'+a+'"]').val(),o=$(i+' option[value="'+a+'"]').parent();$(i+" .fake_select li._"+_handleize(a)).addClass("selected"),a!=t.productSingleObject.title&&!1===$('[data-js-opt="'+e+"--"+t.settings.sectionId+'"]').hasClass("op_pre_select")&&$(i+' label[data-change-label="SglOptSelector-'+e+"--"+t.settings.sectionId+'"] .js-change-label').text(a),s!=o.val()&&o.val(s).trigger("change")});var o=a.attr("data-id");if(1==$(this).parents("div.product-page").data("enable-history-state")&&_.filter(theme.function.productOptionStyle,{op_pre_select:!0}).length<=0){var r=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+o;window.history.replaceState({path:r},"",r)}}}})}},_initThumbnailSlider:function(){var t=this,e=$(window).width();if($(t.selectors.productThumbsWrapper+":not(.first)").addClass("has-its"),t.thumbnailOptions)a=t.thumbnailOptions;else{var a=$(t.selectors.productThumbsWrapper).data();a.speed=500,a.watchSlidesVisibility=!0,a.grabCursor=!0,a.watchOverflow=!0,a.initialSlide=initialSlide||0,t.dataSettings.useThumbVertical&&e>=576&&(a.direction="vertical",a.slidesPerView="auto"),t.thumbnailOptions=a}t.thumbSlider=new Swiper(t.selectors.productThumbsWrapper,a)},_destroyThumbnailSlider:function(){this.thumbSlider.destroy(),this.thumbSlider=void 0,this.thumbnailOptions=void 0},_initPhotoSlider:function(){var t=this;$(t.selectors.productPhotosWrapper).addClass("has-its");var e=$(t.selectors.template+" .product-detail-image .btn-group");if(t.itsVisible=!1,t.photoOptions)a=t.photoOptions;else{var a=$(t.selectors.productPhotosWrapper).data();a.speed=500,a.watchSlidesVisibility=!0,a.grabCursor=!0,a.watchOverflow=!0,a.initialSlide=initialSlide||0,a.navigation={nextEl:".sw-btn-next-"+t.settings.sectionId,prevEl:".sw-btn-prev-"+t.settings.sectionId},a.pagination={el:".swiper-pagination",type:"bullets"},!1===$(t.selectors.productThumbsWrapper).hasClass("oneImageThumb")&&(a.thumbs={swiper:t.thumbSlider},theme.function.use_thumb_hidden_on_mb&&theme.window_W<768&&(a.thumbs=null)),t.productSingleObject.media.length>t.productSingleObject.images.length&&(a.simulateTouch=!1),a.on={init:function(a){initialSlide=0;var i=!0,s=$(a.slides[a.activeIndex]);if((s.find("video").length<=0||s.find(".bgndVideo").length<=0)&&(i=!1),t._mediaSlider(i),t._initPhotoSwipeFromDOM(),t._initPhotoZoom(!0),e.length>0){e.css("z-index","-1");for(var o=a.activeIndex;o<a.activeIndex+a.visibleSlidesIndexes.length;o++)if($(a.slides[o]).hasClass("gallery-image"))return e.css("z-index","1"),!0}},slideChange:function(a){if(t.itsVisible||($(t.selectors.productPhotosWrapper).addClass("its-visible"),t.itsVisible=!0),a.thumbs.swiper){var i=a.thumbs.swiper,s=a.activeIndex,o=i.slides.length;s===i.visibleSlidesIndexes[i.visibleSlidesIndexes.length-1]&&s<o&&t.thumbSlider.translateTo(-1*i.snapGrid[i.visibleSlidesIndexes[1]],300,!1),s===i.visibleSlidesIndexes[0]&&0!==s&&t.thumbSlider.translateTo(-1*i.snapGrid[i.visibleSlidesIndexes[0]-1],300,!1)}"function"==typeof jQuery.fn.YTPlayer&&$.each($(t.selectors.productPhotosWrapper+" .bgndVideo"),function(){$(this).YTPPause()}),$.each($(t.selectors.productPhotosWrapper+" video"),function(){$(this).trigger("pause")});var r=$(a.slides[a.activeIndex]);if(r.find(".lazyloading:not(.lazyload)").addClass("lazyload"),r.find(".plyr__video-wrapper video").length>0?$(r).find("video").trigger("play"):r.find(".bgndVideo.mb_YTPlayer").length>0?r.find(".bgndVideo.mb_YTPlayer").YTPPlay():r.find("model-viewer").length>0&&(r.find("model-viewer").trigger("click"),$(t.selectors.template+" .view-in-space").attr("data-shopify-model3d-id",r.find("model-viewer").attr("data-model-id"))),0==theme.is_mobile&&t.settings.zoomEnabled&&"function"==typeof $.fn.zoom&&($(t.selectors.template+" .photos-wrapper .p-sgl__photos-item").trigger("zoom.destroy"),$.each($(t.selectors.template+" .photos-wrapper .gallery-image.swiper-slide-visible"),function(t,e){$(this).zoom({url:$(this).attr("data-src")})})),e.length>0){e.css("z-index","-1");for(var n=a.activeIndex;n<a.activeIndex+a.visibleSlidesIndexes.length;n++)if($(a.slides[n]).hasClass("gallery-image"))return e.css("z-index","1"),!0}}},t.photoOptions=a}t.photoSlider=new Swiper(t.selectors.productPhotosWrapper+":not(.first)",a)},_mediaSlider:function(t){var e=this;return $(e.selectors.productPhotosWrapper+" .plyr__video-wrapper video").length>0||($(e.selectors.productPhotosWrapper+" .bgndVideo.mb_YTPlayer").length>0||($(e.selectors.productPhotosWrapper+" .shopify-model-viewer-ui").length>0||(e.dataSettings.video5&&(KT.loadScript("plyr",function(a,i){"ok"==i&&$.each($(e.selectors.productPhotosWrapper+":not(.first) video"),function(e,a){new Shopify.Plyr($(this),{loop:{active:!0},autoplay:t})})}),t=!1),e.dataSettings.externalVideo&&(KT.loadScript("YTPlayer",function(a,i){"ok"==i&&$.each($(e.selectors.productPhotosWrapper+":not(.first) .bgndVideo"),function(e,a){$(this).YTPlayer({autoPlay:t})})}),t=!1),void(e.dataSettings.model&&(KT.loadScript("shopify-xr",function(t,a){"ok"==a&&(ShopifyXR.addModels(e.modelsObject),ShopifyXR.setupXRElements())}),KT.loadScript("model-viewer-ui",function(t,a){"ok"==a&&$.each($(e.selectors.productPhotosWrapper+":not(.first) model-viewer"),function(t,e){new Shopify.ModelViewerUI(this)})}))))))},_destroyPhotoSlider:function(){this.photoSlider.destroy(),this.photoSlider=void 0,this.photoOptions=void 0},_updateVariant:function(t){var e=t.variant,a=this.dataJs;if($(".prd-mirror-"+this.productSingleObject.id).length>0&&$(".prd-mirror-"+this.productSingleObject.id).val(e.id).trigger("change"),this._initVariant(e),null!=e.featured_media&&void 0!=e.featured_media&&this.dataSettings.gallery&&a.curpos.join(",")!=a.imgspos){if(this.currentMedia.src==e.featured_media.preview_image.src)return;this.currentMedia=e.featured_media.preview_image,this._updateGallery(e)}},_updateAddToCart:function(t){var e=t.variant,a=this,i=a.selectors.template,s=a.settings.sectionId;if(e){this.storeAvailability&&this.storeAvailability.updateContent(t.variant.id),$(i+' .notify-available [name="contact[body]"]').length>0&&$(i+' .notify-available [name="contact[body]"]').val($(i+' .notify-available [name="contact[body]"]').val().replace(/\(.*\)/g,"("+e.title+")"));var o=$(i+' option[value="'+e.id+'"]');e.inventory_quantity=parseInt(o.data("inventory-quantity")),e.incoming=o.data("incoming"),void 0!==$("#SglOptSelector-0--"+s)&&0==$('[data-js-opt="0--'+s+'"]').hasClass("op_pre_select")&&$('label[data-change-label="0--'+s+'"] .js-change-label').html($("#SglOptSelector-0--"+s).val()),void 0!==$("#SglOptSelector-1--"+s)&&0==$('[data-js-opt="1--'+s+'"]').hasClass("op_pre_select")&&$('label[data-change-label="1--'+s+'"] .js-change-label').html($("#SglOptSelector-1--"+s).val()),void 0!==$("#SglOptSelector-2--"+s)&&0==$('[data-js-opt="2--'+s+'"]').hasClass("op_pre_select")&&$('label[data-change-label="2--'+s+'"] .js-change-label').html($("#SglOptSelector-2--"+s).val()),$(this.selectors.productPrices).removeClass("visibility-hidden").attr("aria-hidden","true"),e.available?(a.dataSettings.useQty&&$(i).find(".item-quantity--"+s).show(),$(i).find(".kt_progress_bar").slideDown(),$(".fbt-item #ip_"+a.productSingleObject.id+":not(:checked)").removeAttr("disabled").trigger("click").attr("disabled","disabled"),$(".notify-"+a.productSingleObject.id).slideUp(),e.inventory_quantity>0&&null!==e.inventory_management&&($("#qty-"+s).attr("max",e.inventory_quantity).trigger("change"),this.dataSettings.progressBar&&($(a.selectors.progressBar).attr("data-remaining_items",e.inventory_quantity),a._stockCountdown().updateMeter(a.selectors.progressBar,e.inventory_quantity,!0)))):($(".notify-"+a.productSingleObject.id).slideDown(),$(".fbt-item #ip_"+a.productSingleObject.id+":checked").removeAttr("disabled").trigger("click").attr("disabled","disabled"),$(i).find(".item-quantity--"+s).hide(),$(i).find(".kt_progress_bar").slideUp()),e.available||e.incoming?($(this.selectors.addToCart).prop("disabled",!1),e.inventory_quantity<=0&&"shopify"===e.inventory_management&&e.incoming||!e.inventory_quantity&&e.incoming?($(".preOrder--"+s).slideDown().find("span").html(e.incoming),$(this.selectors.addToCartText).text(theme.strings.preOrder)):($(".preOrder--"+s).slideUp(),$(this.selectors.addToCartText).text(theme.strings.addToCart)),$(i).find(".shopifyPaymentButton").show()):($(this.selectors.addToCart).prop("disabled",!0),$(this.selectors.addToCartText).text(theme.strings.soldOut),$(i).find(".shopifyPaymentButton").hide())}else if(1==goto){$("[data-op-pre-select]").each(function(t,e){let a=$(this);a.addClass("op_pre_select"),a.find(".js-change-label").html(theme.productStrings.label_select+a.attr("data-n-opt").toLowerCase())});var r=$("#SglOptSelector-0--"+s).val(),n=r,l=$("#SglOptSelector-0--"+s+' option[value="'+r+'"]').attr("data-first-variant").split(" / ");$(i+" .fake_select li").removeClass("selected"),$(l).each(function(t,e){if(3==l.length&&1==t&&optionIndex=="SglOptSelector-1--"+s&&(e=optionValue),3==l.length&&2==t&&optionIndex=="SglOptSelector-1--"+s){e=_.find(a.productSingleObject.variants,{option1:r,option2:optionValue}).option3}if(0===t&&e!==n)$(i+' .fake_select li[data-value="'+n+'"]').addClass("selected");else{var o=$(i+" option[value='"+e+"']").val(),d=$(i+" option[value='"+e+"']").parent();$(i+' .fake_select li[data-value="'+e+'"]').addClass("selected"),$('label[data-change-label="'+t+"--"+s+'"] .js-change-label').html(e),o!=d.val()&&d.val(o).change()}})}},_updateImages:function(t){var e=this,a=t.variant;if(void 0!=a.featured_media){var i=a.featured_media.preview_image.src;if(void 0!=i&&1==goto){var s=$(this.selectors.productPhotos+' .p-sgl__photos-item[data-src="'+theme.Images.removeProtocol(i)+'"]');slideIndex=s.index(),void 0!==e.photoSlider&&e.photoSlider.slideTo(slideIndex,300,!1)}}},_updateGallery:function(t){var e=this,a=this.dataJs,i=t.featured_media?_.indexOf(_.map(e.previewImage,"src"),t.featured_media.preview_image.src)+1:parseInt($(this.selectors.dataJs).attr("data-vrimgpos")),s=a.imgspos.split(","),o=_.map(e.previewImage,"src"),r="";if($(e.selectors.productThumbImages).length>=1)var n="";var l=$(this.selectors.dataJs).attr("data-vrimgpos");if(-1==_.indexOf(s,i.toString())&&l==i.toString())return!0;var d=[];_.forEach(s,function(t,e){if(parseInt(t)>=i)return parseInt(t)==o.length?(d.push(parseInt(s[e])),d.push(parseInt(t)),!1):(d.push(parseInt(t)),d.push(parseInt(s[e+1])),!1)});var c=!1;if($.unique($.merge(JSON.parse($(this.selectors.dataJs).attr("data-curpos")),d)).length>2&&(c=!0),parseInt(d[0])==parseInt(d[1])&&(c=!0),s.length<=0&&!c)return!0;$(this.selectors.dataJs).attr("data-curpos","["+d[0]+","+d[1]+"]"),$(this.selectors.dataJs).attr("data-vrimgpos",i);_.map(e.previewImage,"width"),_.map(e.previewImage,"height");if($(this.selectors.productThumbs).length>0)var p=theme.Images.imageSize($(this.selectors.productThumbs+" .p-sgl__thumb-image:first").attr("src"))||theme.Images.imageSize($(this.selectors.productThumbs+" .p-sgl__thumb-image:first").attr("data-src"));var h=p||"220x220",m=positionIdx=0,u=!1;if("normal"===theme.function.productImgType)var g=e.productSingleObject.media[0].preview_image,f=g.width,v=g.height;_.forEach(e.productSingleObject.media,function(t,a){if(parseInt(d[1])<a+1)return!0;if(u=!1,parseInt(d[0])<=a+1&&parseInt(d[1])>a+1&&(u=!0),parseInt(d[0])==parseInt(d[1])&&parseInt(d[0]==a+1)&&(u=!0),parseInt(d[0])==parseInt(d[1])&&parseInt(d[0])==a+1&&parseInt(d[1])==o.length&&(u=!0),s[s.length-2]!==s[s.length-1]&&parseInt(d[1])==a+1&&parseInt(d[1])==o.length&&(u=!0),1==u){var i=_.last(t.preview_image.src.split(".")),l=t.preview_image.src.replace("."+i,"_{width}x."+i);if($(e.selectors.productThumbs).length>0)var c=t.preview_image.src.replace("."+i,"_"+p+"."+i);var g=_.filter(e.productSingleObject.variants,function(e){if(e.featured_media&&e.featured_media.preview_image.src==t.preview_image.src)return e}),y="stretch"===theme.function.productImgType?" is-cover":"",b=" one_hundred";0!==m&&(b=" sixties",1!=positionIdx&&2!=positionIdx||(b=" forty",2==positionIdx&&(positionIdx=-1)),positionIdx++);var w="stretch"===theme.function.productImgType?theme.Images.imgFit(t.preview_image.width,t.preview_image.height,f,v):"",S=g.length>0?' title="'+g[0].title+'"':"",C=g.length>0?' data-id="'+g[0].id+'"':"";switch(r+='<div class="swiper-slide p-sgl__photos-item  gallery-'+t.media_type+y+b+'" data-src="'+t.preview_image.src+'">',r+='<div class="p-sgl__photo p-sgl__photo-'+a+" p-sgl__photo--"+e.settings.sectionId+' aspectRatio" data-src="'+t.preview_image.src+'"'+S+C+">","external_video"!==t.media_type&&(r+='<img width="'+t.preview_image.width+'" height="'+t.preview_image.height+'" class="p-sgl__photo-image lazyload mll-lz '+w+'"',r+=' src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="',r+=' data-srcbase="'+t.preview_image.src.replace("."+i,"_"+h+"."+i)+'"',r+=' data-src="'+l+'" data-widths="[335, 550, 720, 900, 1080]"',r+=' data-aspectratio="'+t.preview_image.width/t.preview_image.height+'"',r+=' data-srcfix="'+t.preview_image.src+'"',"image"===t.media_type&&(r+=' data-size="'+t.preview_image.width+"x"+t.preview_image.height+'"'),r+=' data-sizes="auto" style="padding-bottom: '+1/t.aspect_ratio*100+'%">'),t.media_type){case"external_video":r+='<div class="video_content video_content_'+t.id+' embed-responsive embed-responsive-16by9">',r+='<div class="position-absolute" style="top: 0;left: 0;width: 100%;height: 100%;">',r+='<div class="position-relative" style="width: 100%;height: 100%;">',"youtube"==t.host?r+='<div class="bgndVideo" data-property="{videoURL:\'https://www.youtube.com/watch?v='+t.external_id+"', quality:'highres', stopMovieOnBlur: false, containment: 'self', vol: 100}\"></div>":r+='<iframe src="https://player.vimeo.com/video/'+t.external_id+'?autoplay=1&loop=1&title=0&byline=0&portrait=0" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>',r+="</div>",r+="</div>",r+="</div>";break;case"video":r+='<div class="video_content video_content_'+t.id+'">',r+='<video playsinline="playsinline" controls="controls" loop="loop" preload="none" class="video-element" aria-label="'+e.productSingleObject.title+'" poster="'+t.preview_image.src.replace("."+i,"_720x."+i)+'">',$.each(t.sources,function(t,e){r+='<source src="'+e.url+'" type="'+e.mime_type+'">'}),r+='<img src="'+t.preview_image.src.replace("."+i,"_720x."+i)+'">',r+="</video>",r+="</div>";break;case"model":r+='<div class="video_content model_content model_content_'+t.id+'">',r+='<model-viewer reveal="interaction" toggleable="true" data-model-id="'+t.id+'" src="'+t.sources[0].url+'" camera-controls="true" data-shopify-feature="0.8" alt="'+e.productSingleObject.title+'" poster="'+t.preview_image.src.replace("."+i,"_720x."+i)+'"></model-viewer>',r+="</div>"}if("normal"===theme.function.productImgType&&"masonry"===e.settings.imagesLayout&&(r+='<style media="(min-width: 992px)">.product-page .aspectRatio.p-sgl__photo-'+a+"{padding-bottom:"+1/t.preview_image.aspect_ratio*100+"%}</style>"),r+="</div></div>",$(e.selectors.productThumbs).length>0){switch(n+='<div class="swiper-slide p-sgl__thumbs-item gallery-'+t.media_type+y+'" data-src="'+t.preview_image.src+'">',n+='<div class="p-sgl__thumb p-sgl__thumb--'+e.settings.sectionId+' aspectRatio" data-src="'+t.preview_image.src+'"'+S+C+">",n+='<img class="p-sgl__thumb-image lazyload mll-lz '+w+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+c+'" alt="'+e.productSingleObject.title+'" style="padding-bottom: '+1/t.aspect_ratio*100+'%">',t.media_type){case"external_video":case"video":n+='<div class="btn play"><i class="fkt-play m-0i" aria-hidden="true"></i></div>';break;case"model":n+='<div class="btn play p-0i"><svg aria-hidden="true" focusable="false" role="presentation" class="icon icon--full-color icon-3d-badge-full-color" viewBox="0 0 26 26"><path class="icon-3d-badge-full-color-element" d="M19.13 8.28L14 5.32a2 2 0 0 0-2 0l-5.12 3a2 2 0 0 0-1 1.76V16a2 2 0 0 0 1 1.76l5.12 3a2 2 0 0 0 2 0l5.12-3a2 2 0 0 0 1-1.76v-6a2 2 0 0 0-.99-1.72zm-6.4 11.1l-5.12-3a.53.53 0 0 1-.26-.38v-6a.53.53 0 0 1 .27-.46l5.12-3a.53.53 0 0 1 .53 0l5.12 3-4.72 2.68a1.33 1.33 0 0 0-.67 1.2v6a.53.53 0 0 1-.26 0z" opacity=".6" style="isolation:isolate"></path></svg></div>'}n+="</div></div>"}m++}});e.selectors.template;if("masonry"===e.settings.imagesLayout&&theme.window_W>=992){$(e.selectors.productPhotos+" .p-sgl__photos-item").each(function(t,a){$(e.selectors.productPhotos).isotope("remove",this),t+1==$(e.selectors.productPhotos+" .p-sgl__photos-item").length&&($(e.selectors.productPhotos).append(r),$.each($(e.selectors.productPhotos+" .p-sgl__photos-item"),function(t,a){void 0==$(this).attr("style")&&$(e.selectors.productPhotos).isotope("appended",$(this)).isotope("layout")}))});var y=0;$(e.selectors.productPhotos).on("removeComplete",function(t,a){++y==$(e.selectors.productPhotos+" .p-sgl__photos-item").length&&e._mediaSlider(!1)})}else{var b=$("#product-thumb-slide--"+e.settings.sectionId),w=$("#product-photo-slide--"+e.settings.sectionId);b.data("vertical")&&(m>1?(b.removeClass("oneImageThumb"),w.removeClass("oneImagePhoto")):(b.addClass("oneImageThumb"),w.addClass("oneImagePhoto"))),"object"==typeof e.thumbSlider&&(e.thumbSlider.removeAllSlides(),e.thumbSlider.appendSlide(n)),e.photoSlider.removeAllSlides(),e.photoSlider.appendSlide(r),e._mediaSlider(!1)}},_updatePrice:function(t){var e=t.variant,a=this;a.selectors.template;if($(this.selectors.originalPrice).html(theme.Currency.formatMoney(e.price,theme.moneyFormat)),$(this.selectors.originalPrice.replace("#",".")).html(theme.Currency.formatMoney(e.price,theme.moneyFormat)),e.compare_at_price>e.price?($(this.selectors.comparePrice).html(theme.Currency.formatMoney(e.compare_at_price,theme.moneyFormat)).removeClass("d-none"),$(this.selectors.comparePrice.replace("#",".")).html(theme.Currency.formatMoney(e.compare_at_price,theme.moneyFormat)).removeClass("d-none"),$(this.selectors.originalPriceWrapper).addClass(this.selectors.saleClasses),$(this.selectors.saleLabel).removeClass("d-none")):($(this.selectors.comparePrice).addClass("d-none"),$(this.selectors.comparePrice.replace("#",".")).addClass("d-none"),$(this.selectors.saleLabel).addClass("d-none"),$(this.selectors.originalPriceWrapper).removeClass(this.selectors.saleClasses)),e.unit_price){$(this.selectors.unitPrice).show().removeClass("d-none"),$(this.selectors.unitPrice.replace("#",".")).show().removeClass("d-none");var i=e.unit_price_measurement.quantity_value+e.unit_price_measurement.quantity_unit;i+=' (<span class="unit_price">'+theme.Currency.formatMoney(e.unit_price,theme.moneyFormat)+"</span> / ",i+='<span class="base_unit">',e.unit_price_measurement&&(1!=e.unit_price_measurement.reference_value&&(i+=e.unit_price_measurement.reference_value),i+=e.unit_price_measurement.reference_unit),i+="</span>",i+="</span>)",$(this.selectors.unitPrice).html(i),$(this.selectors.unitPrice.replace("#",".")).html(i)}else $(this.selectors.unitPrice).hide().addClass("d-none"),$(this.selectors.unitPrice.replace("#",".")).hide().addClass("d-none");$(".fbt-item .ktlz-form-pid-"+a.productSingleObject.id).length>0&&($(".fbt-item .ktlz-form-pid-"+a.productSingleObject.id+" ins").html(theme.Currency.formatMoney(e.price,theme.moneyFormat)),e.compare_at_price>e.price?$(".fbt-item .ktlz-form-pid-"+a.productSingleObject.id+" del").html(theme.Currency.formatMoney(e.compare_at_price,theme.moneyFormat)):$(".fbt-item .ktlz-form-pid-"+a.productSingleObject.id+" del").html(""))},_updateSKU:function(t){var e=t.variant;$(this.selectors.SKU).html(e.sku)},_onReSizeImages:function(){function t(){$(window).width()>=768?("#ProductSection-product-template"==e.selectors.template&&e.dataSettings.useMaxheight&&$(e.selectors.template+" .content-summary").css("max-height",a.height()),"#ProductSection-quickview-template"==e.selectors.template&&$("#md_qvModal .content-summary").css("max-height",a.height())):$(".content-summary").css("max-height","")}var e=this,a=$(e.selectors.template+" iframe#resize-image-product");"#ProductSection-quickview-template"==e.selectors.template&&(a=$(e.selectors.template+" iframe#resize-image-product-qv")),t(),a.each(function(){$(this.contentWindow||this).resize($.throttle(150,t))})},_initPhotoZoom:function(t){var e=this;0==theme.is_mobile&&e.settings.zoomEnabled&&KT.loadScript("zoom",function(a,i){if("ok"==i){var s=e.selectors.template+" .photos-wrapper .gallery-image";t&&(s=e.selectors.template+" .photos-wrapper .gallery-image.swiper-slide-visible"),$.each($(s),function(t,e){var a=$(this);a.zoom({url:a.attr("data-src")})}),$(e.$container).on("click","img.zoomImg",function(t){t.preventDefault(),$(e.selectors.template+' img[data-srcfix="'+theme.Images.removeProtocol(t.target.currentSrc)+'"]').trigger("click")})}})},_initPhotoSwipeFromDOM:function(){var t=this;t.dataSettings.wide&&KT.loadScript("photo-swipe",function(e,a){"ok"==a&&theme.initPhotoSwipeFromDOM(t.selectors.template+" .photos-wrapper",".p-sgl__photo","IMG",function(e,a){if(0!==$(t.selectors.template+" .photos-wrapper .p-sgl__photos-item").length&&void 0!==t.photoSlider){var i=$(t.selectors.template+" .photos-wrapper").find('.p-sgl__photos-item[data-src~="'+a.src+'"]');if(0!==$(i).length){var s=$(i).closest(".p-sgl__photos-item").index();t.photoSlider.slideTo(s,300)}}})})},_stickyAddCart:function(){var t=this;$(document).on("click",".kt-stickyAddCart .toggle, .kt-stickyAddCart .close",function(){$("#form_variants").slideToggle(),$("body").toggleClass("show-stickyAddCart"),theme.window_W>=768||$(".kt-stickyAddCart .infor").slideToggle()});$(window).scroll($.throttle(100,function(){var e=$(window).scrollTop(),a=$(".kt-stickyAddCart");if(e>$(t.selectors.addToCart).offset().top+60&&!1===$(".kt-stickyAddCart").hasClass("fixed")){var i=$('header[data-header-sticky="true"] .content_header').outerHeight()||0;a.addClass("fixed"),$(".kt-stickyAddCart .position-fixed").hasClass("top")&&(theme.window_W<767&&(i=0),$(".kt-stickyAddCart .position-fixed.top").css("top",i+"px"))}else e<=$(t.selectors.addToCart).offset().top&&$(".kt-stickyAddCart").hasClass("fixed")&&(a.removeClass("fixed"),$(".show-stickyAddCart #form_variants").slideToggle(),$("body").removeClass("show-stickyAddCart"),$(".kt-stickyAddCart .position-fixed").hasClass("top")&&$(".kt-stickyAddCart .position-fixed.top").css("top","-100%"))}))},_initStickySummary:function(){function t(){thissummaryh=$(".summary.entry-summary").outerHeight(),void 0!==e&&$(window).width()>=992&&e.hasClass("fixed")&&e.removeClass("fixed maxscroll").removeAttr("style")}var e=$(".summary.entry-summary"),a=e.width(),i=(e.offset(),$(window).scrollTop()),s=$(".product-images").height(),o=i+e[0].getBoundingClientRect().top+e.height(),r=i+e[0].getBoundingClientRect().top+(e.outerHeight()-e.height());$(window).scroll($.throttle(90,function(){var t=$(window);if(!(theme.window_W<992)){i=t.scrollTop(),s=$(".product-images").height();var n=e.outerHeight();if(s>i+n-r)i+theme.window_H-200>=o&&0==e.hasClass("fixed")?(l=$('header[data-header-sticky="true"]').length>0?85:20,e.not(".fixed").addClass("fixed").removeClass("maxscroll").css({top:l+"px",width:a+"px",transform:"none"})):i+theme.window_H-200<o&&e.hasClass("fixed")&&e.removeClass("fixed maxscroll").removeAttr("style");else if(0==e.hasClass("maxscroll")&&s<=n+e.offset().top){var l=s-n-10;e.addClass("maxscroll").removeClass("fixed").removeAttr("style").css({transform:"translate3d(0px,"+l+"px,0px)","-webkit-transform":"translate3d(0px,"+l+"px,0px)","moz-transform":"translate3d(0px,"+l+"px,0px)","-ms-transform":"translate3d(0px,"+l+"px,0px)","-o-transform":"translate3d(0px,"+l+"px,0px)"})}}}));$(this.selectors.template+" iframe#resize-info-product").each(function(){$(this.contentWindow||this).resize($.throttle(150,t))})},_onReSizeInfo:function(t){function e(){var t=$(window);if(!(theme.window_W<992))if(r=t.scrollTop(),n=$(".product-images").height(),p=i.outerHeight(),n>r+p-c)if(r+theme.window_H-200>=d&&0==$(".summary.entry-summary").hasClass("fixed")){e=$('header[data-header-sticky="true"]').length>0?85:20;i.not(".fixed").addClass("fixed").removeClass("maxscroll").css({top:e+"px",width:s+"px",transform:"none"})}else r+theme.window_H-200<d&&i.hasClass("fixed")&&i.removeClass("fixed maxscroll").removeAttr("style");else if(0==i.hasClass("maxscroll")&&n<=p+i.offset().top){var e=n-p-10;i.addClass("maxscroll").removeClass("fixed").removeAttr("style").css({transform:"translate3d(0px,"+e+"px,0px)","-webkit-transform":"translate3d(0px,"+e+"px,0px)","moz-transform":"translate3d(0px,"+e+"px,0px)","-ms-transform":"translate3d(0px,"+e+"px,0px)","-o-transform":"translate3d(0px,"+e+"px,0px)"})}}function a(){p=$(".summary.entry-summary").outerHeight(),void 0!==i&&$(window).width()>=992&&i.hasClass("fixed")&&i.removeClass("fixed maxscroll").removeAttr("style")}var i=$(".summary.entry-summary"),s=i.width(),o=i.offset(),r=$(window).scrollTop(),n=$(".product-images").height(),l=i.outerHeight()-i.height(),d=r+o.top+l+i.height(),c=r+o.top+l,p=i.outerHeight();e(),$(window).scroll($.throttle(90,e));$(this.selectors.template+" iframe#resize-info-product").each(function(){$(this.contentWindow||this).resize($.throttle(150,a))})},_create360:function(t){var e=this,a=this.dataJs.imgspos360.split(","),i=_.map(e.previewImage,"src"),s=_.map(e.previewImage,"width"),o=_.map(e.previewImage,"height"),r=[];_.forEach(i,function(t,e){if(parseInt(a[0])<=e+1&&e+1<parseInt(a[1])){var i=t;r.push(i)}}),KT.loadScript("threesixty",function(t,i){"ok"==i&&(theme.imgs360(r,a,s[a[0]],o[a[0]],e.id),$(".kt_open360_"+e.id).removeClass("d-none"))})},_stockCountdown:function(){function t(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function e(t){a(t,p),s=setTimeout(function(){a(t)},6e4*l),o=setInterval(function(){a(t)},6e3*n)}function a(e,a,s){var n=$(e);if(void 0==(a=a)&&(a=p-1,p<r&&(p=a,a=t(d,c))),a>c)return!1;var l=theme.productStrings.stockMessage[0]+' <span class="count">'+a+"</span> "+theme.productStrings.stockMessage[1];n.addClass("items-count").find("p").html(l);var h=h||n.data().stockBgProcess;n.find(".count").css({"background-color":h,color:"#fff"}),setTimeout(function(){n.find(".count").css({"background-color":"#fff",color:h})},400),n.find(".count").text(a);var m=100*a/i;a<10&&n.find(".progress").addClass("less-than-ten"),setTimeout(function(){n.find(".progress-bar").css("width",m+"%").attr("aria-valuenow",m)},300),p=a,(c=a)<=d&&clearTimeout(o)}var i=70,s=null,o=null,r=1,n=1.7,l=.17,d=0,c=0,p=0,h=0;return{init:function(a){var i=$(a).data();d=parseInt(i.stockFrom),c=parseInt(i.stockTo),p=parseInt(i.remainingItems)||t(d,c),h=i.stockBgProcess,e(a)},progressbar:e,updateMeter:a}},_realTimeVisitor:function(t){var e=$(t);$(function(t){var a=e.find(".counter_real_time").attr("data-counter-max"),i=1,s=a;i=Math.ceil(i),s=Math.floor(s);var o=Math.floor(Math.random()*(s-i+1))+i,r=["1","2","4","3","6","10","-1","-3","-2","-4","-6"],n="",l="",d=["10","20","15"],n="",l="",c="";setInterval(function(){if(n=Math.floor(Math.random()*r.length),l=r[n],1>=(o=parseInt(o)+parseInt(l))){c=Math.floor(Math.random()*d.length);o+=d[c]}(o<1||o>a)&&(o=Math.floor(Math.random()*(s-i+1))+i),e.find("#number_counter>span").html(parseInt(o)),e.show()},parseInt(e.find(".counter_real_time").attr("data-interval-time")))})},_dateFromTo:function(t){var e=$(t);KT.loadScript("moment",function(t,a){"ok"==a&&function(){var t=theme.function.product_delivery,a=parseInt(t.fromDate),i=parseInt(t.toDate);KT.loadScript("momentlocale",function(s,o){if("ok"==o){moment.locale(shopLocale);var r=moment().add(a,"days");if(t.offSaturday&&"6"==r.format("d")&&(a++,r=moment().add(a,"days")),t.offSunday&&"0"==r.format("d")&&(a++,r=moment().add(a,"days")),i>a){var n=moment().add(i,"days");t.offSaturday&&"6"==n.format("d")&&(i++,n=moment().add(i,"days")),t.offSunday&&"0"==n.format("d")&&(i++,n=moment().add(i,"days"))}if($.each(t.offDays,function(t,e){var s=e.split("/")[1],o=e.split("/")[0],l=e.split("/")[2];r.format("DD")===s&&r.format("MM")===o&&("****"!==r.format("YYYY")&&r.format("YYYY")!==l||(a++,r=moment().add(a,"days"))),i>a&&n.format("DD")===s&&n.format("MM")===o&&("****"!==n.format("YYYY")&&n.format("YYYY")!==l||(i++,n=moment().add(i,"days")))}),$(".product_delivery .timeDay").length>0){var l=$(".product_delivery .timeDay");e.append("<style>span.timeDay{display: inline-block}.timeDay .block{display: inline-block}.timeDay span.label{padding: 0 4px}</style>"),KT.loadScript("countdown",function(t,e){if("ok"==e){var a=moment().endOf("day").format(),i='<div class="block cdhrs"><span class="flip-top">00</span><span class="label">'+theme.strings.cdhrs+"</span></div>";i+='<div class="block cdmins"><span class="flip-top">00</span><span class="label">'+theme.strings.cdmin+"</span></div>",l.html(i);var s=l.find(".cdhrs .flip-top"),o=l.find(".cdmins .flip-top");l.find(".cdsecs .flip-top"),l.countdown(moment(a).toDate()).on("update.countdown",function(t){s.text(t.strftime("%H")),o.text(t.strftime("%M"))}).on("finish.countdown",function(t){l.parent().remove()})}})}if(e.find(".fromDate").html(r.format(theme.deliveryFormatDate)),i>a&&(e.find(".toDate i").html(n.format(theme.deliveryFormatDate)),e.find(".toDate").removeClass("d-none")),e.slideDown(),e.parents(".shipping_rates").length<=0)return;e.parents(".shipping_rates").show()}})}()})},_responTableGroup:function(){$(this.selectors.template+" .table-products").scroll($.throttle(100,function(){var t=$(this);$(this).scrollLeft()>=80&&0==$(this).hasClass("mini")?t.addClass("mini"):$(this).scrollLeft()<80&&$(this).hasClass("mini")&&t.removeClass("mini")}))},onUnload:function(){this.$container.off(),this.$container.find(".kt_countdown").off()}}),t}(),theme.StoreAvailability=function(){function t(t){this.$container=$(t),this.$data=this.$container.data(),this.productTitle=this.$data.productTitle,this.hasOnlyDefaultVariant=this.$data.hasOnlyDefaultVariant}var e={modal:"[data-store-availability-modal-open]",modalProductTitle:"[data-store-avai-modal-product-title]",modalVariantTitle:"[data-store-avai-modal-variant-title]"},a={hidden:"d-none"};return t.prototype=Object.assign({},t.prototype,{updateContent:function(t){var i=this.$data.baseUrl+"variants/"+t+"/?section_id=store-availability",s=this;$.ajax({url:i,type:"GET",dataType:"html",success:function(i){i=i.split("\x3c!--lz_sc--\x3e")[1].split("\x3c!-- modal --\x3e"),s.$container.html(i[0]);var o=$("#store-avai-modal-"+t);if(o.length<=0){$(".content_for_extension").append(i[1]);if((o=$("#store-avai-modal-"+t)).find(e.modalProductTitle).text(s.productTitle),s.hasOnlyDefaultVariant){o.find(e.modalVariantTitle).addClass(a.hidden)}}}})}}),t}(),theme.recentlySection=function(){return function(t){var e=$(t);if(e.find(".load_recent").length>0){theme.SwiperSection(t);var a=localStorage.getItem("kt-recent");if(null!==a){(s=(s=a.split(",")).reverse()).join()==product_id&&e.addClass("no-prds").hide();var i=Shopify.root_url+"/search?q=id:"+s.join("%20OR%20id:");null!=product_id&&(i+="%20NOT%20id:"+product_id),i+="&view=recently",e.find(".load_recent").attr("data-include",i).addClass("lazyload")}else e.addClass("no-prds").hide();var s=null!==a?a.split(","):new Array;s.includes(product_id+"")||(s.length>=10&&s.pop(),s[s.length]=product_id,s=s.toString(),localStorage.setItem("kt-recent",s))}}}();