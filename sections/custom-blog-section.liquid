{% comment %}
  blog-section.liquid
{% endcomment %}

<style>
  .custom-blog-section {
    padding: 60px 0;
    text-align: center;
  }
  .custom-blog-section h2 {
    color: #000;
    text-align: center;
    font-family: Karla;
    font-size: 36px;
    font-style: normal;
    font-weight: 700;
    line-height: 62px;
  }
  .custom-blog-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
  }
  .custom-blog-card:hover{
    box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;
    }
  .custom-blog-card {
    background: #fff;
    border-radius: 6px;
    overflow: hidden;
    text-align: left;
    display: flex;
    flex-direction: column;
    height: 100%;
    justify-content: space-between;
  }
  .custom-blog-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }
  .custom-blog-meta {
    display: flex;
    gap: 15px;
    font-size: 14px;
    color: #555;
    padding: 15px 0px;
    align-items: center;
  }
  .custom-blog-meta span {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .custom-blog-title {
    font-weight: 600;
    font-size: 1.8rem;
    letter-spacing: -.01em;
    margin-bottom: 1.4rem;
    padding-bottom: 0;
  }
  .custom-blog-excerpt {
    color: #050505;
    font-family: Karla;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
  }
  .custom-blog-button {
    padding: 15px 0px;
    display: flex;
  }
  .custom-blog-button a {
    border-radius: 4px;
    background: #127fb5;
    color: #fafafa !important;
    font-family: Karla;
    font-size: 16px;
    font-weight: 500;
    line-height: 24px;
    padding: 12px 24px;
    transition: background 0.3s ease;
  }
  .custom-blog-button a:hover {
    background: #FFF;
    color:#000 !important;
    border:1px solid #eee;
  }
</style>

<section class="custom-blog-section">
  <div class="container">
    {% if section.settings.heading != blank %}
      <h2>{{ section.settings.heading }}</h2>
    {% endif %}
    <div class="custom-blog-grid">
      {% assign blog_handle = section.settings.blog %}
      {% if blogs[blog_handle].articles.size > 0 %}
        {% for article in blogs[blog_handle].articles limit: 3 %}
          <div class="custom-blog-card">
            {% if article.image %}
              <img src="{{ article.image | img_url: '800x' }}" alt="{{ article.image.alt | escape }}">
            {% endif %}
            <div class="group">
                <div class="custom-blog-meta">
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                        <mask id="mask0_39_3642" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="24">
                            <rect x="0.666504" width="24" height="24" fill="#D9D9D9"/>
                        </mask>
                        <g mask="url(#mask0_39_3642)">
                            <path d="M5.97425 21.5C5.46909 21.5 5.0415 21.325 4.6915 20.975C4.3415 20.625 4.1665 20.1974 4.1665 19.6923V6.30777C4.1665 5.8026 4.3415 5.37502 4.6915 5.02502C5.0415 4.67502 5.46909 4.50002 5.97425 4.50002H7.35875V2.38477H8.89725V4.50002H16.4743V2.38477H17.9743V4.50002H19.3588C19.8639 4.50002 20.2915 4.67502 20.6415 5.02502C20.9915 5.37502 21.1665 5.8026 21.1665 6.30777V19.6923C21.1665 20.1974 20.9915 20.625 20.6415 20.975C20.2915 21.325 19.8639 21.5 19.3588 21.5H5.97425ZM5.97425 20H19.3588C19.4358 20 19.5063 19.9679 19.5703 19.9038C19.6344 19.8398 19.6665 19.7693 19.6665 19.6923V10.3078H5.6665V19.6923C5.6665 19.7693 5.69859 19.8398 5.76275 19.9038C5.82675 19.9679 5.89725 20 5.97425 20ZM5.6665 8.80777H19.6665V6.30777C19.6665 6.23077 19.6344 6.16026 19.5703 6.09626C19.5063 6.0321 19.4358 6.00002 19.3588 6.00002H5.97425C5.89725 6.00002 5.82675 6.0321 5.76275 6.09626C5.69859 6.16026 5.6665 6.23077 5.6665 6.30777V8.80777Z" fill="#050505" fill-opacity="0.7"/>
                        </g>
                    </svg>
                    {{ article.published_at | date: "%B %d, %Y" }}
                    </span>
                    <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M4.023 15.2923C4.873 14.6616 5.799 14.1635 6.801 13.798C7.80283 13.4327 8.86917 13.25 10 13.25C11.1308 13.25 12.1972 13.4327 13.199 13.798C14.201 14.1635 15.127 14.6616 15.977 15.2923C16.5987 14.6089 17.0912 13.8179 17.4548 12.9192C17.8183 12.0206 18 11.0475 18 10C18 7.78333 17.2208 5.89583 15.6625 4.3375C14.1042 2.77917 12.2167 2 10 2C7.78333 2 5.89583 2.77917 4.3375 4.3375C2.77917 5.89583 2 7.78333 2 10C2 11.0475 2.18175 12.0206 2.54525 12.9192C2.90875 13.8179 3.40133 14.6089 4.023 15.2923ZM10.0003 10.75C9.08725 10.75 8.31733 10.4367 7.6905 9.81C7.0635 9.18317 6.75 8.41325 6.75 7.50025C6.75 6.58725 7.06333 5.81733 7.69 5.1905C8.31683 4.5635 9.08675 4.25 9.99975 4.25C10.9128 4.25 11.6827 4.56333 12.3095 5.19C12.9365 5.81683 13.25 6.58675 13.25 7.49975C13.25 8.41275 12.9367 9.18267 12.31 9.8095C11.6832 10.4365 10.9133 10.75 10.0003 10.75ZM10 19.5C8.68083 19.5 7.44333 19.2519 6.2875 18.7558C5.13167 18.2596 4.12625 17.5839 3.27125 16.7288C2.41608 15.8738 1.74042 14.8683 1.24425 13.7125C0.748083 12.5567 0.5 11.3192 0.5 10C0.5 8.68083 0.748083 7.44333 1.24425 6.2875C1.74042 5.13167 2.41608 4.12625 3.27125 3.27125C4.12625 2.41608 5.13167 1.74042 6.2875 1.24425C7.44333 0.748084 8.68083 0.5 10 0.5C11.3192 0.5 12.5567 0.748084 13.7125 1.24425C14.8683 1.74042 15.8738 2.41608 16.7288 3.27125C17.5839 4.12625 18.2596 5.13167 18.7558 6.2875C19.2519 7.44333 19.5 8.68083 19.5 10C19.5 11.3192 19.2519 12.5567 18.7558 13.7125C18.2596 14.8683 17.5839 15.8738 16.7288 16.7288C15.8738 17.5839 14.8683 18.2596 13.7125 18.7558C12.5567 19.2519 11.3192 19.5 10 19.5ZM10 18C10.9025 18 11.7727 17.8548 12.6105 17.5645C13.4483 17.274 14.1923 16.8679 14.8422 16.3462C14.1923 15.8436 13.458 15.4519 12.6395 15.1712C11.8208 14.8904 10.941 14.75 10 14.75C9.059 14.75 8.17758 14.8888 7.35575 15.1663C6.53392 15.4439 5.80125 15.8372 5.15775 16.3462C5.80775 16.8679 6.55167 17.274 7.3895 17.5645C8.22733 17.8548 9.0975 18 10 18ZM10 9.25C10.4975 9.25 10.9135 9.08267 11.248 8.748C11.5827 8.4135 11.75 7.9975 11.75 7.5C11.75 7.0025 11.5827 6.5865 11.248 6.252C10.9135 5.91733 10.4975 5.75 10 5.75C9.5025 5.75 9.0865 5.91733 8.752 6.252C8.41733 6.5865 8.25 7.0025 8.25 7.5C8.25 7.9975 8.41733 8.4135 8.752 8.748C9.0865 9.08267 9.5025 9.25 10 9.25Z" fill="#050505" fill-opacity="0.7"/>
                    </svg>
                    {{ article.author }}
                    </span>
                </div>
                <h3 class="custom-blog-title">{{ article.title }}</h3>
                <div class="custom-blog-excerpt">
                {{ article.excerpt_or_content | strip_html | truncate: 120 }}
                </div>
                <div class="custom-blog-button">
                <a href="{{ article.url }}">READ MORE</a>
                </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <p>No articles found.</p>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Custom Blog Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "BLOGS"
    },
    {
      "type": "blog",
      "id": "blog",
      "label": "Select Blog"
    }
  ],
  "presets": [
    {
      "name": "Custom Blog Section",
      "category": "Blog"
    }
  ]
}
{% endschema %}
