{% comment %}
  custom-footer.liquid
{% endcomment %}

<style>
  .custom-footer-section {
    padding: 90px 0px;
    border-top: 1px solid rgba(197, 197, 197, 0.50);
  }
  .custom-footer .row .item {
    padding-left: 20px;
    padding-right: 20px;
  }
  .custom-footer .row .item h3 {
    margin-bottom: 2rem;
    color: #050505;
    font-family: Karla;
    font-size: clamp(18px, 5vw, 24px);
    font-style: normal;
    font-weight: 600;
  }
  .custom-footer .row .item ul {
    padding: 0px;
  }
  .custom-footer .row .item ul li {
    list-style: none;
    padding-top: 5px;
  }
  .custom-footer .row .item .links-with-icon a {
    display: flex;
    align-items: center;
    gap: 10px;
    {% comment %} flex-wrap:wrap; {% endcomment %}
  }
  .custom-footer .row .item .links-with-icon a img {
    width: 32px;
    height: 32px;
    aspect-ratio: 1/1;
  }
  .custom-footer .row .item ul li a {
    color: #050505;
    font-family: Karla;
    font-size: clamp(14px, 5vw, 16px);
    font-style: normal;
    font-weight: 400;
  }
  @media (max-width:768px){
    .custom-footer .row .item .links-with-icon a img {
      width: 20px;
      height: 20px;
    }
    .custom-footer .row .resources ul li a {
      font-size: 12px;
    }
    .custom-footer .row .item h3{
      margin-top:2rem;
    }
    .custom-footer .row .item .links-with-icon a{
      align-items: center;
    }
  }
</style>

<section class="custom-footer-section">
  <div class="custom-footer section-width container">
    <div class="row">
      <!-- Column 1 -->
      <div class="col-12 col-md-4 col-lg-3 item item__1">
        <div class="item__1__group">
          <div class="footer-logo">
            {% if section.settings.logo != blank %}
              <img src="{{ section.settings.logo | img_url: '200x' }}" alt="logo">
            {% endif %}
          </div>
          <div class="_text">
            <p>{{ section.settings.intro_text }}</p>
          </div>
        </div>
      </div>

      <!-- Dynamic Menu Columns -->
      {% for block in section.blocks %}
        {% if block.type == 'column' %}
          <div class="col-6 col-md-4 col-lg-3 item">
            <div class="submenu__heading">
              <h3>{{ block.settings.label }}</h3>
            </div>
            <ul class="submenu__items">
              {% assign menu_handle = block.settings.link %}
              {% if linklists[menu_handle] and linklists[menu_handle].links.size > 0 %}
                {% for link in linklists[menu_handle].links %}
                  <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                {% endfor %}
              {% else %}
                <li><em>No menu assigned</em></li>
              {% endif %}
            </ul>
          </div>
        {% endif %}
      {% endfor %}

      <!-- Resources Column -->
      <div class="col-12 col-md-4 col-lg-3 item item__4 resources">
        <div class="submenu__heading">
          <h3>{{ section.settings.resources_heading }}</h3>
        </div>
        <ul class="submenu__items links-with-icon">
          {% for block in section.blocks %}
            {% if block.type == 'resource_item' %}
              <li>
                <a href="{{ block.settings.url }}">
                  {% if block.settings.icon != blank %}
                    <img src="{{ block.settings.icon | img_url: '32x32' }}" alt="icon">
                  {% endif %}
                  <span class="__label">{{ block.settings.label }}</span>
                </a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Custom Footer",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Footer Logo"
    },
    {
      "type": "textarea",
      "id": "intro_text",
      "label": "Intro Text",
      "default": "We are conveniently located in Auburn, just opposite the Harvey Norman flagship store."
    },
    {
      "type": "text",
      "id": "resources_heading",
      "label": "Resources Heading",
      "default": "Resources"
    }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Menu Column",
      "limit": 2,
      "settings": [
        { "type": "text", "id": "label", "label": "Heading" },
        { "type": "link_list", "id": "link", "label": "Menu" }
      ]
    },
    {
      "type": "resource_item",
      "name": "Resource Item",
      "settings": [
        { "type": "image_picker", "id": "icon", "label": "Icon" },
        { "type": "text", "id": "label", "label": "Label" },
        { "type": "url", "id": "url", "label": "URL" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Footer",
      "blocks": [
        { "type": "column" },
        { "type": "column" },
        { "type": "resource_item" },
        { "type": "resource_item" },
        { "type": "resource_item" }
      ]
    }
  ]
}
{% endschema %}
