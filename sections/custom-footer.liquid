{% comment %}
  custom-footer.liquid
{% endcomment %}

<style>
  .custom-footer-section {
    padding: 90px 0px;
    border-top: 1px solid rgba(197, 197, 197, 0.50);
  }
  .custom-footer .row .item {
    padding-left: 20px;
    padding-right: 20px;
  }
  .custom-footer .row .item h3 {
    margin-bottom: 2rem;
    color: #050505;
    font-family: Karla;
    font-size: clamp(18px, 5vw, 24px);
    font-style: normal;
    font-weight: 600;
  }
  .custom-footer .row .item ul {
    padding: 0px;
  }
  .custom-footer .row .item ul li {
    list-style: none;
    padding-top: 5px;
  }
  .custom-footer .row .item .links-with-icon a {
    display: flex;
    align-items: flex-start;
    gap: 10px;
  }
  .custom-footer .row .item .links-with-icon a img {
    width: 32px;
    height: 32px;
    aspect-ratio: 1/1;
  }
  .custom-footer .row .item ul li a {
    color: #050505;
    font-family: Karla;
    font-size: clamp(14px, 5vw, 16px);
    font-style: normal;
    font-weight: 400;
  }
</style>

<section class="custom-footer-section">
  <div class="custom-footer section-width container">
    <div class="row">
      <!-- Column 1 -->
      <div class="col-12 col-md-3 item item__1">
        <div class="item__1__group">
          <div class="footer-logo">
            {% if section.settings.logo != blank %}
              <img src="{{ section.settings.logo | img_url: '200x' }}" alt="logo">
            {% endif %}
          </div>
          <div class="_text">
            <p>{{ section.settings.intro_text }}</p>
          </div>
        </div>
      </div>

      {% for block in section.blocks %}
        <div class="col-12 col-md-3 item">
          <div class="submenu__heading">
            <h3>{{ block.settings.label }}</h3>
          </div>
          <ul class="submenu__items">
            {% assign menu_handle = block.settings.link %}
            {% if linklists[menu_handle] and linklists[menu_handle].links.size > 0 %}
              {% for link in linklists[menu_handle].links %}
                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
              {% endfor %}
            {% else %}
              <li><em>No menu assigned</em></li>
            {% endif %}
          </ul>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Custom Footer",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Footer Logo"
    },
    {
      "type": "textarea",
      "id": "intro_text",
      "label": "Intro Text",
      "default": "We are conveniently located in Auburn, just opposite the Harvey Norman flagship store."
    }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Column",
      "settings": [
        { "type": "text", "id": "label", "label": "Heading" },
        { "type": "link_list", "id": "link", "label": "Menu" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Footer",
      "blocks": [
        { "type": "column" },
        { "type": "column" }
      ]
    }
  ]
}
{% endschema %}
