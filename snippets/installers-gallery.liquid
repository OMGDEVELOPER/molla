
{% style %}
* {
  box-sizing: border-box;
}

.flexbox {
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  height: 100vw;
}

.flexbox:hover img {
  opacity: 0.28;
}

.flexbox .item {
  position: relative;
  width: 33.33%; /* 3 columns */
}

.flexbox .item img {
  width: 100%;
  display: block;
  transition: all 0.8s;
}

.flexbox .item .title {
  position: absolute;
  top: 48%;
  left: 0;
  width: 100%;
  padding: 0 3%;
  font-size: 30px;
  text-shadow: 0 0 8px rgba(0, 0, 0, 0.42);
}

.flexbox .item:hover img {
  opacity: 1;
}

/* Media queries */
@media (max-width: 860px) {
  .flexbox {
    height: 220vw;
  }
  .flexbox .item {
    width: 50%;
  }
}

@media (max-width: 667px) {
  .flexbox {
    height: auto;
  }
  .flexbox .item {
    width: 100%;
  }
}

{% endstyle %}<div class="flexbox">
  <div class="item">
    <img src="https://unsplash.it/600/400?random" />
    <p class="title">1st item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/600/600?random" />
    <p class="title">2nd item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/720/460?random" />
    <p class="title">3rd item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/800/400?random" />
    <p class="title">4th item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/480/700?random" />
    <p class="title">5th item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/680/420?random" />
    <p class="title">6th item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/740/480?random" />
    <p class="title">7th item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/840/440?random" />
    <p class="title">8th item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/640/380?random" />
    <p class="title">9th item</p>
  </div>
  <div class="item">
    <img src="https://unsplash.it/500/680?random" />
    <p class="title">10th item</p>
  </div>
</div>
