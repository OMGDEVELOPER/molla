{% style %}
  .submenu__items,
  .submenu-subitems {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .submenu__items > li,
  .submenu-subitems > li {
    /* position: relative; */
  }

  .submenu-subitems,
  .style-2,
  .submenu-subitems-inner {
    /* display: none; */
    position: absolute;
    top: 0;
    left: 100%;
    background: white;
    padding: 1rem;
    min-width: 220px;
    z-index: 10;
  }

  .submenu__items > li:hover > .style-2,
  .style-2 .submenu__items > li:hover > .submenu-subitems {
    /* display: block; */
  }

  .submenu-subitems-inner {
    left: 100%;
    top: 0;
  }

  /* Add transition for smoothness */
  .style-2,
  .submenu-subitems,
  .submenu-subitems-inner {
    transition: opacity 0.2s ease, visibility 0.2s ease;
  }
  .uppercase{
    text-transform:uppercase;
  }
{% endstyle %}
<submenu>
  <div class="submenu submenu-container container {{ block.id }}" id="{{ block.id }}">
    <div class="row">
                <div class="col-12 col-md-3 item item__1">
            <div class="item__1__group">
              <div class="submenu__heading">
                  <h3>OUR PRODUCTS</h3>
              </div>
              <ul class="submenu__items">
                   <li target-id="{{ block.settings.item-1-label }}-{{ block.id }}" submenu-items="{{ block.settings.menu-item-1 }}"><a href="#">{{ block.settings.item-1-label }}</a></li>
                  <li target-id="{{ block.settings.item-2-label }}-{{ block.id }}"><a href="#">{{ block.settings.item-2-label }}</a></li>
            
              </ul>
            </div>
            <ul class="submenu__items links-with-icon">
              <li><a href="#"><span class="__icon"><img src="https://cdn.shopify.com/s/files/1/0859/1186/3592/files/sell.svg?v=1752660278" alt="icon"></span><span class="__label">Special Offers</span></a></li>
              <li><a href="#"><span class="__icon"><img src="https://cdn.shopify.com/s/files/1/0859/1186/3592/files/sell.svg?v=1752660278" alt="icon"></span><span class="__label">Special Offers</span></a></li>
              <li><a href="#"><span class="__icon"><img src="https://cdn.shopify.com/s/files/1/0859/1186/3592/files/sell.svg?v=1752660278" alt="icon"></span><span class="__label">Special Offers</span></a></li>
             
            </ul>
        </div>
      <div class="col-12 col-md-3 item item__2 w-300px level-2" id="roofing-{{ block.id }}">
        
      </div>
    </div>
  </div>
</submenu>

  
<script>
  document.querySelectorAll('.has-second-level').forEach(item => {
    let timer;

    item.addEventListener('mouseenter', () => {
      clearTimeout(timer);
      const submenu = item.querySelector('.style-2');
      submenu && (submenu.style.display = 'block');
    });

    item.addEventListener('mouseleave', () => {
      const submenu = item.querySelector('.style-2');
      timer = setTimeout(() => {
        submenu && (submenu.style.display = 'none');
      }, 300); // delay in ms
    });
  });

  document.querySelectorAll('.has-third-level').forEach(item => {
    let timer;

    item.addEventListener('mouseenter', () => {
      clearTimeout(timer);
      const submenu = item.querySelector('.submenu-subitems-inner');
      submenu && (submenu.style.display = 'block');
    });

    item.addEventListener('mouseleave', () => {
      const submenu = item.querySelector('.submenu-subitems-inner');
      timer = setTimeout(() => {
        submenu && (submenu.style.display = 'none');
      }, 300);
    });
  });
</script>


